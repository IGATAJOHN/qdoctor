<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quantum Doctor - Home</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <!-- Vendor CSS Files -->
  <link href="{{url_for('static',filename='assets/vendor/aos/aos.css')}}" rel="stylesheet">
  <link href="{{url_for('static',filename='assets/vendor/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">
  <link href="{{url_for('static',filename='assets/vendor/bootstrap-icons/bootstrap-icons.css')}}" rel="stylesheet">
  <link href="{{url_for('static',filename='assets/vendor/boxicons/css/boxicons.min.css')}}" rel="stylesheet">
  <link href="{{url_for('static',filename='assets/vendor/glightbox/css/glightbox.min.css')}}" rel="stylesheet">
  <link href="{{url_for('static',filename='assets/vendor/swiper/swiper-bundle.min.css')}}" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Template Main CSS File -->
  <link href="{{url_for('static',filename='assets/css/style.css')}}" rel="stylesheet">

  <link rel="stylesheet" href="{{url_for('static',filename='css/style.css')}}">
</head>
<style>
    .logout-dialog {
            background-color: #ffffff;
            border-radius: 10px;
            padding: 20px;
            width: 300px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .logout-dialog .btn-cancel {
            background-color: #f8f9fa;
            color: #000000;
        }

        .logout-dialog .btn-yes {
            background-color: #dc3545;
            color: #ffffff;
        }
        /* Default Light Theme */
body.light-theme {
    background-color: #f8f9fa; /* Bootstrap's light background */
    color: #000;
}

/* Dark Theme */
body.dark-theme {
    background-color: #343a40; /* Bootstrap's dark background */
    color: #fff;
}

/* Example styling for your cards and text */
.card {
    border: 1px solid rgba(0,0,0,0.125);
    background-color: #fff;
}

body.dark-theme .card {
    border: 1px solid rgba(255,255,255,0.125);
    background-color: #444;
}

/* Make sure to adjust other elements as necessary */

</style>
<body class="light-theme">
  <!-- ======= Mobile nav toggle button ======= -->
  <i class="bi bi-list mobile-nav-toggle d-xl-none"></i>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="d-flex flex-column">

      <div class="profile">
        <img src="{{url_for('static',filename='assets/img/q1.png')}}" 
     alt="Toggle Theme" 
     id="themeToggle" 
     class="img-fluid rounded-circle" 
     style="background-color: #004BAB; cursor: pointer;">

        <h1 class="text-light"><a href="index.html">Quantum Doctor</a></h1>
   
      </div>

      <nav id="navbar" class="nav-menu navbar">
        <ul>
            {% if current_user.is_authenticated and current_user.role == 'doctor' %}
            <div class="edit-delete-buttons">
                <li><a href="{{url_for('doctors_dashboard')}}" class="nav-link scrollto active"><i class="bx bx-message"></i> <span>Appointments</span></a></li>
                <li><a href="{{url_for('messages')}}" class="nav-link scrollto"><i class="bx bx-user"></i> <span>messages</span></a></li>
          <li><a href="{{url_for('diagnosis')}}" class="nav-link scrollto"><i class="bx bx-user"></i> <span>Diagnosis</span></a></li>
      
        
            </div>
            {% endif %}
            {% if current_user.is_authenticated and current_user.role == 'user' %}
          <li><a href="{{url_for('vitals')}}" class="nav-link scrollto active"><i class="bx bx-message"></i> <span>Vitals</span></a></li>
          <li><a href="{{url_for('profile')}}" class="nav-link scrollto"><i class="bx bx-user"></i> <span>Profile</span></a></li>
          <li><a href="{{url_for('diagnosis')}}" class="nav-link scrollto"><i class="bx bx-user"></i> <span>Diagnosis</span></a></li>
          <li><a href="{{url_for('consultations')}}" class="nav-link scrollto"><i class="bx bx-user"></i> <span>Consultations</span></a></li>
       
          <li>
            {% endif %}
            <a href="#" class="nav-link scrollto" data-bs-toggle="modal" data-bs-target="#logoutModal">
              <i class="bx bx-exit"></i> <span>Logout</span>
            </a>
          </li>
          
        </ul>
      </nav><!-- .nav-menu -->
    </div>
  </header><!-- End Header -->
  <!-- Logout Confirmation Modal -->
 <!-- Logout Confirmation Modal -->
 <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content logout-dialog">
          <div class="modal-body text-center">
              <p class="font-weight-bold">Are you sure you want to log out?</p>
              <div>
                  <button type="button" class="btn btn-cancel mr-2" data-bs-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-yes" id="confirmLogout">Yes</button>
              </div>
          </div>
      </div>
  </div>
</div>
{%block content%}

{%endblock content%}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Vendor JS Files -->
    <script src="{{url_for('static',filename='assets/vendor/purecounter/purecounter_vanilla.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/aos/aos.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/glightbox/js/glightbox.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/isotope-layout/isotope.pkgd.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/swiper/swiper-bundle.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/typed.js/typed.umd.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/waypoints/noframework.waypoints.js')}}"></script>
    <script src="{{url_for('static',filename='assets/vendor/php-email-form/validate.js')}}"></script>
    
    <!-- Template Main JS File -->
    <script src="{{url_for('static',filename='assets/js/main.js')}}"></script>
    
</body>
<script>
  // Function to generate random data
  function generateData() {
        return Array.from({ length: 7 }, () => Math.floor(Math.random() * 10 + 35));
    }

    // Chart color configurations
    const chartColors = {
        temperature: {
            border: '#FF851B',
            fill: 'rgba(255, 133, 27, 0.2)'
        },
        bloodPressure: {
            border: '#007bff',
            fill: 'rgba(0, 123, 255, 0.2)'
        },
        heartRate: {
            border: '#dc3545',
            fill: 'rgba(220, 53, 69, 0.2)'
        },
        bloodOxygen: {
            border: '#28a745',
            fill: 'rgba(40, 167, 69, 0.2)'
        }
    };

    // Initialize Chart.js charts
    function initCharts() {
        const charts = [
            { id: 'tempChart', color: chartColors.temperature },
            { id: 'bpChart', color: chartColors.bloodPressure },
            { id: 'hrChart', color: chartColors.heartRate },
            { id: 'boChart', color: chartColors.bloodOxygen }
        ];
        const labels = ['', '', '', '', '', '', ''];

        charts.forEach(chart => {
            const ctx = document.getElementById(chart.id).getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        data: generateData(),
                        borderColor: chart.color.border,
                        backgroundColor: chart.color.fill,
                        borderWidth: 2,
                        tension: 0.4,
                        fill: 'start'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            display: false
                        },
                        x: {
                            display: false
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    elements: {
                        point: {
                            radius: 0
                        }
                    }
                }
            });
        });
    }

    // Initialize charts on page load
    document.addEventListener('DOMContentLoaded', initCharts);
document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('confirmLogout').addEventListener('click', function() {
    window.location.href = "{{ url_for('logout') }}";
  });
});
document.addEventListener('DOMContentLoaded', function() {
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', function() {
        document.body.classList.toggle('dark-theme');
        document.body.classList.toggle('light-theme');

        // Optional: Save theme preference to local storage
        const isDarkTheme = document.body.classList.contains('dark-theme');
        localStorage.setItem('preferredTheme', isDarkTheme ? 'dark' : 'light');
    });

    // Apply the saved theme preference on load
    const savedTheme = localStorage.getItem('preferredTheme');
    if (savedTheme) {
        document.body.classList.add(savedTheme === 'dark' ? 'dark-theme' : 'light-theme');
    } else {
        document.body.classList.add('light-theme'); // default to light theme
    }
});

</script>
</html>
